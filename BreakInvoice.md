Е те тва е func spec на няколко фийчъра.

Draft version. Still working on spec. Comments are welcome.




# Introduction #
Следните няколко изисквания се обединяват от свързана функционалност и трябва да бъдат имплементирани заедно:

|тегло|описание|изпълнител|
|:---------|:---------------|:-------------------|
|1 |за всеки служител колко му е сметката и колко дължи той|Rumen|
|1 |мапване на хора към номера. Форматиране на оутпут, като се добавят номера, отдели и т.н.|Rumen|
|1 |supportvane na grupi|" |
|1 |съотношение колко плаща компанията и колко служителите|" |



# Details #

## за всеки служител колко му е сметката и колко дължи той ##
### разбиване на фактурата на подфактури за всеки номер ###
Имплементира се филтър, който разбива фактурата на подфактури за всеки номер поотделно. Примерно, ако имаме оригинална фактура, прочетена в InvoiceRows:

|8935901087001503011| 111111111111| М-Тел - М-Тел натоварена часова зона| 55:01| 10.99|
|:------------------|:------------|:----------------------------------------------------------------|:-----|:-----|
|8935901087001503099| 359888086789| М-Тел - ГлоБул натоварена часова зона| 1:43| 0.48|
|8935901087001503011| 1111111111111| М-Тел - Вивател ненатоварена часова зона| 3:16| 0.91|
|8935901087001503099| 359888086789| М-Тел - ГлоБул натоварена часова зона| 1:43| 0.48|
|8935901087001503099| 359888086789| М-Тел - Вивател ненатоварена часова зона| 3:16| 0.91|



то тя трябва да се разбие на списък от две фактури
|8935901087001503011| 111111111111| М-Тел - М-Тел натоварена часова зона| 55:01| 10.99|
|:------------------|:------------|:----------------------------------------------------------------|:-----|:-----|
|8935901087001503011| 1111111111111| М-Тел - Вивател ненатоварена часова зона| 3:16| 0.91|

и

|8935901087001503099| 359888086789| М-Тел - ГлоБул натоварена часова зона| 1:43| 0.48|
|:------------------|:------------|:-------------------------------------------------------------------|:----|:----|
|8935901087001503099| 359888086789| М-Тел - ГлоБул натоварена часова зона| 1:43| 0.48|
|8935901087001503099| 359888086789| М-Тел - Вивател ненатоварена часова зона| 3:16| 0.91|

които да бъдат записани както на диска (в работната директория на филтъра), така и в DataPool-а, с ключ използващ каноничното име на класа на филтъра (пр. com.faktel.filters.BreakInvoice.personal\_invoices\_list)
за да може следващ филтър да работи с тези данни.
Структурата от данни добавена в DataPool-a ще е някакъв java.util.List.

### На всеки служител се намапват номера ###
TBD
### Калкулира се тотал, сравнява се с лимит, генерира се дължимо ###
TBD
### output на всички получени данни ###
TBD
### TBD ###